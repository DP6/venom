(function (window) {
	var ga = window[window.GoogleAnalyticsObject || 'ga'];

	function mirrorTracker(util) {
		var self = this;
		var name = self.mirrorTracker || self.tracker.get('name');

		ga('venom:on', 'gaPageview', function (info) {
			util.forEach(ga.getAll(), function (tracker) {
				if (name !== tracker.get('name'))
					tracker.send('pageview', {
						page: info.page,
						title: info.title
					});
			});
		});

		ga('venom:on', 'gaEvent', function (info) {
			util.forEach(ga.getAll(), function (tracker) {
				if (name !== tracker.get('name'))
					tracker.send('event', {
						eventCategory: info.eventCategory,
						eventAction: info.eventAction,
						eventLabel: info.eventLabel,
						eventValue: info.eventValue
					});
			});
		});
	}

	if (ga)
		ga('venom:provide', 'mirrorTracker', mirrorTracker);
}(window));